## Документация для CIDRAM (Русский)

### Содержание
- 1. [ПРЕДИСЛОВИЕ](#SECTION1)
- 2. [ИНСТАЛЛЯЦИЯ](#SECTION2)
- 3. [ИСПОЛЬЗОВАНИЕ](#SECTION3)
- 4. [УПРАВЛЕНИЕ ФРОНТЕНД](#SECTION4)
- 5. [СОДЕРЖАНИЕ ПАКЕТА ФАЙЛОВ](#SECTION5)
- 6. [НАСТРОЙКИ](#SECTION6)
- 7. [СИГНАТУР ФОРМАТ](#SECTION7)
- 8. [ИЗВЕСТНЫЕ ПРОБЛЕМЫ СОВМЕСТИМОСТИ](#SECTION8)
- 9. [ЧАСТО ЗАДАВАЕМЫЕ ВОПРОСЫ (FAQ)](#SECTION9)

*Примечание по поводу переводов: В случае ошибок (например, расхождения между переводами, опечаток, и т.д.), Английская версия README считается оригиналом и официальной версией. Если Вы обнаружите какие-либо ошибки, ваша помощь в исправлении их будет приветствоваться.*

---


### 1. <a name="SECTION1"></a>ПРЕДИСЛОВИЕ

CIDRAM/СИДРАМ (Бесклассовая Адресация Доступа Менеджер / Classless Inter-Domain Routing Access Manager) это скрипт предназначен для защиты веб-сайтов, путем блокирования запросов, исходящих из IP-адресов рассматривается как источников нежелательного трафика, в том числе (но не ограничивается) трафик с конечными точками доступа нечеловеческих, клоуд/облачные сервисы, спамботы, скребки, и т.д. Она делает это путем вычисления возможной CIDR из IP-адресов, поставляется из входящих запросов, а затем попытка сопоставить эти возможные CIDR с его сигнатур файлы (эти сигнатур файлы содержат списки CIDR из IP-адресов рассматривается как источников нежелательного трафика); Если совпадения найдены, запросы блокируются.

*(Видеть: [Что такое «CIDR»?](#WHAT_IS_A_CIDR)).*

CIDRAM Авторское право 2016 года, а также GNU/GPLv2 by Caleb M (Maikuolan).

Это руководство находится в свободном доступе. Вы можете его передавать и/или модифицировать на условиях GNU General Public License, как публикует Фонд свободного программного обеспечения (Free Software Foundation); либо под второй версией лицензии, либо любой другой более поздней версией (по вашему выбору). Пособие публикуется не в целях увеличения прибыли или создания себе рекламы, а лишь в надежде принести пользу, правда, без всякой гарантии. Подробности Вы можете узнать на странице GNU General Public License в разделе `LICENSE.txt`, а также на страницах:
- <http://www.gnu.org/licenses/>.
- <http://opensource.org/licenses/>.

Этот документ с относящимися к нему пакетом файлов можно бесплатно скачать на страницах [GitHub](https://cidram.github.io/).

---


### 2. <a name="SECTION2"></a>ИНСТАЛЛЯЦИЯ

#### 2.0 ИНСТАЛЛЯЦИЯ ВРУЧНУЮ

1) Скачайте архив на свой компьютер и откройте его. На хост-компьютере или в системе управления содержимым (CMS) создайте регистр, куда Вы хотите загрузить содержимое этого пакета. Такой регистр, как `/public_html/cidram/`, будет вполне достаточным, пока он отвечает вашим требованиям к защите или личным предпочтениям.

2) Переименовать `config.ini.RenameMe` в `config.ini` (расположенный внутри `vault`), и если Вы хотите (рекомендуются для опытных пользователей, имеющих соответствующие знания), открой это (этот файл содержит все параметры конфигурации для CIDRAM; краткие комментарии описывают задачи каждой параметры). Измените величины в соответствии с Вашими потребностями. Сохраните файл и закройте.

3) Скачайте всё содержимое (CIDRAM и файлы) в указанный в пункте 1 регистр, кроме файлов `*.txt`/`*.md`.

4) Право доступа `vault`-регистра поменяйте на «755» (если есть проблемы, Вы можете попробовать „777“; это менее безопасно, хотя). Права доступа вышестоящего папка, в котором находится содержание (папка в который Вы наметили занести файлы) могут остаться прежними, но всё же лучше проверить доступ, если случились проблемы с доступом (обычно должно быть „755“ в стандарта).

5) Скрепите CIDRAM с Вашей системой или с системой управления содержимым (CMS). Для этого есть много способов. Самым простым является способ, когда CIDRAM-руководство является началом главного файла, который будет загружаться всякий раз, когда будут заходить на ваш интернет-сайт. Этот файл нужно связать с Вашей системой или с системой управления содержимым (CMS) при помощи `require` или `include` команд. Обычно такой файл обозначается в регистре как `/includes`, `/assets` или `/functions`, и часто называется `init.php`, `common_functions.php`, `functions.php`. Вы должны найти тот файл, который соответствует Вашим требованиям. Если это трудно для Вас, то посетите страница вопросов CIDRAM на GitHub. Возможно я или кто-то другой уже имеет опыт работы с CMS, которую используете вы, и сможет дать Вам совет (обязательно сообщите, какой CMS Вы пользуетесь). Введите прямо в начало этого файла следующий код:

`<?php require '/user_name/public_html/cidram/loader.php'; ?>`

Строку между кавычками замените локальным путём файла в формате `loader.php`, без HTTP-адреса (подобно пути для `vault`-регистра). Сохраните файл и закройте его; Загрузите его заново.

-- АЛЬТЕРНАТИВА --

Если у Вас Apache HTTP-сервер и доступ к нему в формате `php.ini` или похожем формате, Вы можете воспользоваться `auto_prepend_file`-директивой, установя приоритет CIDRAM, когда последует PHP-запрос. Примерно так:

`auto_prepend_file = "/user_name/public_html/cidram/loader.php"`

Или в `.htaccess` файлом:

`php_value auto_prepend_file "/user_name/public_html/cidram/loader.php"`

6) На этом инсталляционный процесс заканчивается. :-)

#### 2.1 ИНСТАЛЛЯЦИЯ С ПОМОЩЬЮ COMPOSER

[CIDRAM зарегистрирован в Packagist](https://packagist.org/packages/cidram/cidram), и так, если Вы знакомы с Composer, Вы можете использовать Composer для инсталляция CIDRAM (Вам все равно нужно будет подготовить конфигурацию и крючки; См. „инсталляция вручную“, шаги 2 и 5).

`composer require cidram/cidram`

#### 2.2 ИНСТАЛЛЯЦИЯ ДЛЯ WORDPRESS

Если Вы хотите использовать CIDRAM с WordPress, Вы можете проигнорировать все вышеприведенные инструкции. [CIDRAM зарегистрирован как плагин с базой данных плагинов WordPress](https://wordpress.org/plugins/cidram/), и Вы можете установить CIDRAM непосредственно из панели плагинов. Вы можете установить его так же, как любой другой плагин, и никаких дополнительных шагов не требуется. Подобно другим методам установки, Вы можете настроить свою инсталляция, изменив содержимое файла `config.ini`, или с помощью конфигурация страница в фронтенд. Если Вы активировать CIDRAM фронтенд и обновить CIDRAM используя обновления страница в фронтенд, это автоматически синхронизируется с информацией о версии плагина, отображаемой в панели инструментов плагинов.

*Предупреждение: Обновление CIDRAM через панель инструментов плагинов приводит к чистой установке! Если Вы персонализированные свою инсталляция (изменили вашу конфигурацию, установленные модули и т.д.), эти персонализации будут потеряны при обновлении через панель инструментов плагинов! Лог-файлы также будут потеряны! Чтобы сохранить файлы журналов и настройки, обновите страницу с CIDRAM фронтенд.*

---


### 3. <a name="SECTION3"></a>ИСПОЛЬЗОВАНИЕ

CIDRAM должен автоматически блокировать нежелательные запросы на свой веб-сайт, без необходимости ручного помощь, кроме его первоначальной инсталляция.

Вы можете настроить конфигурацию, и настроить какие CIDRs заблокированы, путем изменения файла конфигурации и/или ваши сигнатур файлы.

Если Вы обнаружили ложноположительный, пожалуйста, свяжитесь со мной чтобы сообщить мне об этом. *(Видеть: [Что такое „ложноположительный“?](#WHAT_IS_A_FALSE_POSITIVE)).*

CIDRAM можно обновлять вручную или через фронтенд. CIDRAM также может быть обновлен через Composer или WordPress, если они первоначально установлены с помощью этих средств.

---


### 4. <a name="SECTION4"></a>УПРАВЛЕНИЕ ФРОНТЕНД

#### 4.0 ЧТО ЯВЛЯЕТСЯ ФРОНТЕНД.

Фронтенд обеспечивает удобный и простой способ для поддержания, управления и обновить инсталляция CIDRAM. Вы можете просматривать, обмениваться и скачать лог-файлы через страницу для лог-файлы, Вы можете изменить конфигурацию с помощью страницы конфигурации, Вы можете устанавливать и удалять компоненты через страницу обновления, и Вы можете загрузить, скачать, и изменять файлы в вашем vault с помощью файл менеджер.

Фронтенд по умолчанию отключена в целях предотвращения несанкционированного доступа (несанкционированного доступа может иметь серьезные последствия для вашего веб-сайта и его безопасности). Инструкции по включению его включены ниже этого пункта.

#### 4.1 КАК ВКЛЮЧИТЬ ФРОНТЕНД.

1) Найдите директиву `disable_frontend` внутри `config.ini`, и установить его на `false` (это будет `true` по умолчанию).

2) Перейти на `loader.php` из вашего браузера (например, `http://localhost/cidram/loader.php`).

3) Войти с именем пользователя и паролем по умолчанию (admin/password).

Заметка: После того, как Вы вошли в первый раз, в целях предотвращения несанкционированного доступа к фронтенд, Вы должны немедленно изменить имя пользователя и пароль! Это очень важно, потому что это можно загрузить произвольный PHP код на свой веб-сайт через фронтенд.

#### 4.2 КАК ИСПОЛЬЗОВАТЬ ФРОНТЕНД.

Инструкции предоставляются на каждой странице в фронтенд, чтобы объяснить правильный способ использовать его и его целевое назначение. Если Вам нужна дополнительная объяснение или любой специальный помощь, обратитесь в поддержки. Дополнительно, есть некоторые видео доступны на YouTube, которые могли бы помочь путем демонстрации.


---


### 5. <a name="SECTION5"></a>СОДЕРЖАНИЕ ПАКЕТА ФАЙЛОВ

Следующая таблица содержит все файлы, содержащиеся в скаченном архиве руководства, а также файлы, которые можно создать, используя данное руководство, с кратким описанием этих файлов.

Файл | Описание
----|----
/_docs/ | Регистр с документами (содержит различные файлы).
/_docs/readme.ar.md | Документация на Арабском языке.
/_docs/readme.de.md | Документация на Немецком языке.
/_docs/readme.en.md | Документация на Английском языке.
/_docs/readme.es.md | Документация на Испанском языке.
/_docs/readme.fr.md | Документация на Французском языке.
/_docs/readme.id.md | Документация на Индонезийском языке.
/_docs/readme.it.md | Документация на Итальянском языке.
/_docs/readme.ja.md | Документация на Японском языке.
/_docs/readme.ko.md | Документация на Корейском языке.
/_docs/readme.nl.md | Документация на Нидерланском языке.
/_docs/readme.pt.md | Документация на Португальском языке.
/_docs/readme.ru.md | Документация на Русском языке.
/_docs/readme.ur.md | Документация на Урду языке.
/_docs/readme.vi.md | Документация на Вьетнамском язык.
/_docs/readme.zh-TW.md | Документация на Китайском традиционный.
/_docs/readme.zh.md | Документация на Китайском упрощенный.
/vault/ | Vault-регистр (содержит различные файлы).
/vault/fe_assets/ | Данные для фронтенд.
/vault/fe_assets/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/fe_assets/_accounts.html | Шаблон HTML для учетными записями страница в фронтенд.
/vault/fe_assets/_accounts_row.html | Шаблон HTML для учетными записями страница в фронтенд.
/vault/fe_assets/_cidr_calc.html | Шаблон HTML для калькулятор CIDR.
/vault/fe_assets/_cidr_calc_row.html | Шаблон HTML для калькулятор CIDR.
/vault/fe_assets/_config.html | Шаблон HTML для конфигурация страница в фронтенд.
/vault/fe_assets/_config_row.html | Шаблон HTML для конфигурация страница в фронтенд.
/vault/fe_assets/_files.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_files_edit.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_files_rename.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_files_row.html | Шаблон HTML для файл менеджер.
/vault/fe_assets/_home.html | Шаблон HTML для домашняя страница в фронтенд.
/vault/fe_assets/_ip_aggregator.html | Шаблон HTML для агрегатора IP.
/vault/fe_assets/_ip_test.html | Шаблон HTML для страница тест IP.
/vault/fe_assets/_ip_test_row.html | Шаблон HTML для страница тест IP.
/vault/fe_assets/_ip_tracking.html | Шаблон HTML для страница отслеживания IP.
/vault/fe_assets/_ip_tracking_row.html | Шаблон HTML для страница отслеживания IP.
/vault/fe_assets/_login.html | Шаблон HTML для войти страница в фронтенд.
/vault/fe_assets/_logs.html | Шаблон HTML для лог-файлы страница в фронтенд.
/vault/fe_assets/_nav_complete_access.html | Шаблон HTML для навигационные ссылки в фронтенд, для тех кто с полным доступом.
/vault/fe_assets/_nav_logs_access_only.html | Шаблон HTML для навигационные ссылки в фронтенд, для тех кто с доступом только к лог-файлы.
/vault/fe_assets/_statistics.html | Шаблон HTML для страница статистики в фронтенд.
/vault/fe_assets/_sections.html | Шаблон HTML для списка секций.
/vault/fe_assets/_sections_row.html | Шаблон HTML для списка секций.
/vault/fe_assets/_updates.html | Шаблон HTML для обновления страница в фронтенд.
/vault/fe_assets/_updates_row.html | Шаблон HTML для обновления страница в фронтенд.
/vault/fe_assets/frontend.css | CSS стиль листов для фронтенд.
/vault/fe_assets/frontend.dat | База данных для фронтенд (содержит информации об учетными записями, сессий, и кэш; генерируется только если фронтенд будет активирована и используется).
/vault/fe_assets/frontend.html | Основной файл шаблона HTML для фронтенд.
/vault/fe_assets/icons.php | Обработчик иконки (файл менеджер фронтенд использует его).
/vault/fe_assets/pips.php | Обработчик пипсов (файл менеджер фронтенд использует его).
/vault/fe_assets/scripts.js | Содержит фронтенд данные JavaScript.
/vault/lang/ | Содержит CIDRAM файлы на разных языках.
/vault/lang/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/lang/lang.ar.cli.php | Арабском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.ar.fe.php | Арабском языковые файлы для фронтенд.
/vault/lang/lang.ar.php | Арабском языковые файлы.
/vault/lang/lang.bn.cli.php | Бенгальском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.bn.fe.php | Бенгальском языковые файлы для фронтенд.
/vault/lang/lang.bn.php | Бенгальском языковые файлы.
/vault/lang/lang.de.cli.php | Немецком языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.de.fe.php | Немецком языковые файлы для фронтенд.
/vault/lang/lang.de.php | Немецком языковые файлы.
/vault/lang/lang.en.cli.php | Английском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.en.fe.php | Английском языковые файлы для фронтенд.
/vault/lang/lang.en.php | Английском языковые файлы.
/vault/lang/lang.es.cli.php | Испанском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.es.fe.php | Испанском языковые файлы для фронтенд.
/vault/lang/lang.es.php | Испанском языковые файлы.
/vault/lang/lang.fr.cli.php | Французском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.fr.fe.php | Французском языковые файлы для фронтенд.
/vault/lang/lang.fr.php | Французском языковые файлы.
/vault/lang/lang.hi.cli.php | Хинди языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.hi.fe.php | Хинди языковые файлы для фронтенд.
/vault/lang/lang.hi.php | Хинди языковые файлы.
/vault/lang/lang.id.cli.php | Индонезийском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.id.fe.php | Индонезийском языковые файлы для фронтенд.
/vault/lang/lang.id.php | Индонезийском языковые файлы.
/vault/lang/lang.it.cli.php | Итальянском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.it.fe.php | Итальянском языковые файлы для фронтенд.
/vault/lang/lang.it.php | Итальянском языковые файлы.
/vault/lang/lang.ja.cli.php | Японском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.ja.fe.php | Японском языковые файлы для фронтенд.
/vault/lang/lang.ja.php | Японском языковые файлы.
/vault/lang/lang.ko.cli.php | Корейском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.ko.fe.php | Корейском языковые файлы для фронтенд.
/vault/lang/lang.ko.php | Корейском языковые файлы.
/vault/lang/lang.nl.cli.php | Нидерланском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.nl.fe.php | Нидерланском языковые файлы для фронтенд.
/vault/lang/lang.nl.php | Нидерланском языковые файлы.
/vault/lang/lang.no.cli.php | Норвежском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.no.fe.php | Норвежском языковые файлы для фронтенд.
/vault/lang/lang.no.php | Норвежском языковые файлы.
/vault/lang/lang.pt.cli.php | Португальском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.pt.fe.php | Португальском языковые файлы для фронтенд.
/vault/lang/lang.pt.php | Португальском языковые файлы.
/vault/lang/lang.ru.cli.php | Русском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.ru.fe.php | Русском языковые файлы для фронтенд.
/vault/lang/lang.ru.php | Русском языковые файлы.
/vault/lang/lang.sv.cli.php | Шведском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.sv.fe.php | Шведском языковые файлы для фронтенд.
/vault/lang/lang.sv.php | Шведском языковые файлы.
/vault/lang/lang.th.cli.php | Тайском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.th.fe.php | Тайском языковые файлы для фронтенд.
/vault/lang/lang.th.php | Тайском языковые файлы.
/vault/lang/lang.tr.cli.php | Турецком языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.tr.fe.php | Турецком языковые файлы для фронтенд.
/vault/lang/lang.tr.php | Турецком языковые файлы.
/vault/lang/lang.ur.cli.php | Урду языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.ur.fe.php | Урду языковые файлы для фронтенд.
/vault/lang/lang.ur.php | Урду языковые файлы.
/vault/lang/lang.vi.cli.php | Вьетнамском языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.vi.fe.php | Вьетнамском языковые файлы для фронтенд.
/vault/lang/lang.vi.php | Вьетнамском языковые файлы.
/vault/lang/lang.zh-tw.cli.php | Китайском традиционный языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.zh-tw.fe.php | Китайском традиционный языковые файлы для фронтенд.
/vault/lang/lang.zh-tw.php | Китайском традиционный языковые файлы.
/vault/lang/lang.zh.cli.php | Китайском упрощенный языковые файлы для CLI (Способ Командных Строк).
/vault/lang/lang.zh.fe.php | Китайском упрощенный языковые файлы для фронтенд.
/vault/lang/lang.zh.php | Китайском упрощенный языковые файлы.
/vault/.htaccess | Гипертекст доступа файл (в этом случае защищает от неавторизованного доступа чувствительные файлы данного руководства).
/vault/.travis.php | Используется Travis CI для тестирования (на эффективность данного руководства не влияет).
/vault/.travis.yml | Используется Travis CI для тестирования (на эффективность данного руководства не влияет).
/vault/aggregator.php | Агрегатор IP.
/vault/cache.dat | Cache-данные.
/vault/cidramblocklists.dat | Содержит информацию, относящуюся к опционную страну списки блоков обеспечивается от Macmathan; Используется из функцией Обновления, предоставленной из фронтенд.
/vault/cli.php | Обработчик CLI (Способ Командных Строк).
/vault/components.dat | Содержит информацию, относящуюся к различным компонентам CIDRAM; Используется из функцией Обновления, предоставленной из фронтенд.
/vault/config.ini.RenameMe | Файл с конфигурации. Содержит всевозможные конфигурации CIDRAM (переименовать чтобы активировать).
/vault/config.php | Обработчик конфигурации.
/vault/config.yaml | Файл с умолчанию конфигурации; Содержит значения по умолчанию для конфигурации CIDRAM.
/vault/frontend.php | Обработчик фронтенд.
/vault/frontend_functions.php | Функции файла фронтенд.
/vault/functions.php | Функции файла (обязательно).
/vault/hashes.dat | Содержит список принятых хэшей (связана с функция reCAPTCHA; генерируется только если функция reCAPTCHA активирована).
/vault/ignore.dat | Игнорируется файл (используется для указания сигнатур секций CIDRAM следует игнорировать).
/vault/ipbypass.dat | Содержит список IP байпасов (связана с функция reCAPTCHA; генерируется только если функция reCAPTCHA активирована).
/vault/ipv4.dat | IPv4 файла сигнатур (нежелательные облачные сервисы и нечеловеческие конечные точки).
/vault/ipv4_bogons.dat | IPv4 файла сигнатур (bogon/марсианин CIDRs).
/vault/ipv4_custom.dat.RenameMe | IPv4 пользовательские сигнатур файлы (переименовать чтобы активировать).
/vault/ipv4_isps.dat | IPv4 файла сигнатур (опасно и спам-склонным интернет-провайдеры).
/vault/ipv4_other.dat | IPv4 файла сигнатур (CIDRs для прокси-серверов, виртуальных частных сетей и различных других нежелательных услуг).
/vault/ipv6.dat | IPv6 файла сигнатур (нежелательные облачные сервисы и нечеловеческие конечные точки).
/vault/ipv6_bogons.dat | IPv6 файла сигнатур (bogon/марсианин CIDRs).
/vault/ipv6_custom.dat.RenameMe | IPv6 пользовательские сигнатур файлы (переименовать чтобы активировать).
/vault/ipv6_isps.dat | IPv6 файла сигнатур (опасно и спам-склонным интернет-провайдеры).
/vault/ipv6_other.dat | IPv6 файла сигнатур (CIDRs для прокси-серверов, виртуальных частных сетей и различных других нежелательных услуг).
/vault/lang.php | Язык обработчика.
/vault/modules.dat | Содержит информацию, относящуюся к различным модулям для CIDRAM; Используется из функцией Обновления, предоставленной из фронтенд.
/vault/outgen.php | Выход генератора.
/vault/php5.4.x.php | Полифилл для PHP 5.4.X (требуется для PHP 5.4.X обратная совместимость; безопасно для удаления для новых версий PHP).
/vault/recaptcha.php | Модуль reCAPTCHA.
/vault/rules_as6939.php | Пользовательские правила файл для AS6939.
/vault/rules_softlayer.php | Пользовательские правила файл для Soft Layer.
/vault/rules_specific.php | Пользовательские правила файл для некоторые специфические CIDRs.
/vault/salt.dat | Соль файл (используется некоторыми периферического функциональностью; генерируется только при необходимости).
/vault/template_custom.html | Шаблонный файл. Шаблон для HTML-формата сообщений, сообщающий о том, что загрузка файла была заблокирована CIDRAM (сообщение, которое будет показано пользователю).
/vault/template_default.html | Шаблонный файл. Шаблон для HTML-формата сообщений, сообщающий о том, что загрузка файла была заблокирована CIDRAM (сообщение, которое будет показано пользователю).
/vault/themes.dat | Файл темы; Используется из функцией Обновления, предоставленной из фронтенд.
/.gitattributes | Файл из GitHub проекта (на эффективность данного руководства не влияет).
/Changelog.txt | Перечень внесённых в руководство изменений и его различные версии (на эффективность данного руководства не влияет).
/composer.json | Composer/Packagist информация (на эффективность данного руководства не влияет).
/CONTRIBUTING.md | Информация о том как внести свой вклад в проект.
/LICENSE.txt | Копия лицензии GNU/GPLv2 (на эффективность данного руководства не влияет).
/loader.php | Загрузчик. Этот файл будет связан с Вашей системой управления содержимым (обязательно!).
/README.md | Резюме информации о проекте.
/web.config | Файл с ASP.NET-конфигурации. Этот файл необходим для защиты `/vault` регистров от неавторизованного доступа, когда руководство инсталлируется на один из серверов, базирующихся на ASP.NET-технологиях.

---


### 6. <a name="SECTION6"></a>НАСТРОЙКИ
Ниже представлен список переменных данных в файле конфигурации `config.ini`, а также краткое описание их функций.

#### «general» (Категория)
Генеральная конфигурация от CIDRAM.

«logfile»
- Файл разборчивыми для людей, для регистрации всех заблокированных попыток несанкционированного доступа. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

«logfileApache»
- Apache-стиль файл для регистрации всех заблокированных попыток несанкционированного доступа. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

«logfileSerialized»
- Сериализованная файл для регистрации всех заблокированных попыток несанкционированного доступа. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

*Полезный совет: Если Вы хотите, Вы можете добавить информацию о дате/времени к именам файлов журналов путем включения их во имя: `{yyyy}` для полный год, `{yy}` для сокращенный год, `{mm}` для месяц, `{dd}` для день, `{hh}` для час.*

*Примеры:*
- *`logfile='logfile.{yyyy}-{mm}-{dd}-{hh}.txt'`*
- *`logfileApache='access.{yyyy}-{mm}-{dd}-{hh}.txt'`*
- *`logfileSerialized='serial.{yyyy}-{mm}-{dd}-{hh}.txt'`*

«truncate»
- Усекать лог-файлы, когда они достигают определенного размера? Значение это максимальный размер в Б/КБ/МБ/ГБ/ТБ, до которого файл журнала может увеличиться до усечения. Стандартное значение 0КБ отключает усечение (лог-файлы может расти неограниченно). Примечание: относится к отдельным лог-файлы! Размер файлов журнала не учитывается совместно.

«timeOffset»
- Если ваш сервер времени не соответствует вашему местному времени, Вы можете указать смещение здесь для корректировки информации о дате/времени генерируется от CIDRAM в соответствии с вашими потребностями. Обычно рекомендуется вместо того, чтобы настроить директиву о зоне времени в файле `php.ini`, но иногда (например, при работе с общими хостинг-провайдеров, которые ограничены) это не всегда возможно, и так, эта опция представлена здесь. Смещение описывается как минут.
- Пример (добавить один час): `timeOffset=60`

«timeFormat»
- Формат нотации даты, используемый CIDRAM. Стандарт = `{Day}, {dd} {Mon} {yyyy} {hh}:{ii}:{ss} {tz}`.

«ipaddr»
- Место IP-адреса актуального соединения в общем потоке данных (полезно для Cloud-сервиса). Стандарт = REMOTE_ADDR. ВНИМАНИЕ: Изменяйте это значение только в том случае, если Вы уверены в своих действиях!

«forbid_on_block»
- Какой тип заголовка должен CIDRAM ответить при блокировке запросов? False/200 = 200 OK (Хорошо) [Стандарт]; True/403 = 403 Forbidden (Запрещено); 503 = Service unavailable (Сервис недоступен).

«silent_mode»
- Должен CIDRAM молча перенаправить заблокированные попытки доступа вместо отображения страницы «Доступ Закрыт»? Если да, указать местоположение для перенаправления блокировал попытки доступа. Если нет, оставить эту переменную пустым.

«lang»
- Задаёт CIDRAM стандарт языка.

«numbers»
- Указывает, как отображать числа.

«emailaddr»
- Если Вы хотите, Вы можете предоставить адрес электронной почты здесь чтобы дать пользователям, когда они заблокированы, для их использования в качестве точки контакта за поддержку и/или помощь ибо в случае их блокирования по ошибке. ПРЕДУПРЕЖДЕНИЕ: Любой адрес электронной почты Вы предоставляете здесь наверняка будет найдены по спамботами и скребки во время используется здесь, и так, это настоятельно рекомендуется, если Вы решите добавить адрес электронной почты здесь, что Вы убедитесь что адрес электронной почты что Вы предоставляете здесь одноразовый адрес и/или адрес который Вы не против чтобы быть спамом (другими словами, Вы вероятно не хотите использовать ваши основные личные электронной почты или первичные бизнес электронной почты).

«emailaddr_display_style»
- Как Вы предпочитаете, чтобы адрес электронной почты был представлен пользователям? «default» = Ссылки кликабельны. «noclick» = Текст не кликабельны.

«disable_cli»
- Деактивировать ли CLI-модус? Обычно CLI-модус активирован. Однако иногда он может отрицательно влиять на определённые тестовые программы (например на PHPUnit) и другие приложения, базирующиеся на CLI. Если CLI-модус нельзя деактивировать, то эту команду нужно игнорировать. False = CLI-модус активирован [Стандарт]; True = CLI-модус деактивирован.

«disable_frontend»
- Деактивировать доступ к фронтенд? Доступ к фронтенд может сделать CIDRAM более управляемым, но также может быть потенциальный риск безопасности. Рекомендуется чтобы управлять CIDRAM через бэкенд когда возможно, но доступ к фронтенд предоставлен для того когда это не возможно. Держите его деактивирована за исключением того если Вам это нужно. False = Активировать доступ к фронтенд; True = Деактивировать доступ к фронтенд [Стандарт].

«max_login_attempts»
- Максимальное количество попыток входа в систему (фронтенд). Стандарт = 5.

«FrontEndLog»
- Файл для запись всех попыток входа в фронтенд. Задайте имя файлу, или оставьте пустым чтобы деактивировать опцию.

«ban_override»
- Переопределить «forbid_on_block» когда «infraction_limit» превысило? Когда переопределении: Блокированные запросы возвращают пустую страницу (файлы шаблонов не используются). 200 = Не переопределить [Стандарт]; 403 = Переопределить с «403 Forbidden»; 503 = Переопределить с «503 Service unavailable».

«log_banned_ips»
- Включить заблокированные запросы от запрещенных IP-адресов в лог-файлы? True = Да [Стандарт]; False = Нет.

«default_dns»
- Разделенный запятыми список DNS-серверов, чтобы использовать для имен хостов поиска. Стандарт = «8.8.8.8,8.8.4.4» (Google DNS). ВНИМАНИЕ: Изменяйте это значение только в том случае, если Вы уверены в своих действиях!

«search_engine_verification»
- Попытка проверить запросы от поисковых систем? Верификация поисковых систем гарантирует, что они не будут запрещены в результате превышения предела нарушение (запрет на поисковые системы с вашего сайта, как правило, оказывают негативное влияние на вашей поисковой системы рейтинга, SEO, и т.д.). Когда проверяется, поисковые системы могут быть заблокированы, но не запрещено. Когда не проверяется, это возможно для них должны быть запрещены в результате превышения лимита нарушений. Дополнительно, верификация поисковых систем обеспечивает защиту от подделки запросов поисковой системы и вредоносные источники маскируются как поисковые системы (такие запросы будут заблокированы при проверке поисковой активируется). True = Активировать верификация поисковых систем [Стандарт]; False = Деактивировать верификация поисковых систем.

«protect_frontend»
- Определяет, будут ли средства защиты как правило предоставляемые CIDRAM должны быть применены к фронтенд. True = Да [Стандарт]; False = Нет.

«disable_webfonts»
- Отключить веб-шрифты? True = Да; False = Нет [Стандарт].

«maintenance_mode»
- Включить режим обслуживания? True = Да; False = Нет [Стандарт]. Отключает все, кроме фронтенд. Иногда полезно при обновлении CMS, фреймворков и т.д.

«default_algo»
- Определяет, какой алгоритм использовать для всех будущих паролей и сеансов. Опции: PASSWORD_DEFAULT (стандарт), PASSWORD_BCRYPT, PASSWORD_ARGON2I (требует PHP >= 7.2.0).

«statistics»
- Отслеживать статистику использования CIDRAM? True = Да; False = Нет [Стандарт].

«force_hostname_lookup»
- Поиск имен хостов для всех запросов? True = Да; False = Нет [Стандарт]. Поиск имен хостов обычно выполняется по принципу «по мере необходимости», но может быть принудительно для всех запросов. Это может быть полезно в качестве средства предоставления более подробной информации в логфайлах, но может также иметь слегка отрицательный эффект на производительность.

«allow_gethostbyaddr_lookup»
- Разрешить поиск gethostbyaddr, когда UDP недоступен? True = Да [Стандарт]; False = Нет.
- *Примечание. Поиск IPv6 может работать некорректно на некоторых 32-разрядных системах.*

#### «signatures» (Категория)
Конфигурация сигнатур.

«ipv4»
- Список сигнатур IPv4 файлы, которые CIDRAM должен попытаться обработать, разделенных запятыми. Вы можете добавлять записи здесь, если Вы хотите, чтобы включить дополнительные IPv4 сигнатур файлы в CIDRAM.

«ipv6»
- Список сигнатур IPv6 файлы, которые CIDRAM должен попытаться обработать, разделенных запятыми. Вы можете добавлять записи здесь, если Вы хотите, чтобы включить дополнительные IPv6 сигнатур файлы в CIDRAM.

«block_cloud»
- Блокировать CIDRs идентифицирован как принадлежащий услуг веб-хостинга / облачные сервисы? Если Вы управляете службы API с вашего сайта, или если Вы ожидать что другие веб-сайты чтобы подключиться к ваш веб-сайт, эта директива должна быть false. Если Вы этого не сделаете, эта директива должна быть true.

«block_bogons»
- Блокировать марсианин/bogon CIDRs? Если Вы ожидаете посетителей на свой веб-сайт из вашей локальной сети или из локальной сети, эта директива должна быть false. В противном случае, эта директива должна быть true.

«block_generic»
- Блокировать CIDRs рекомендуется для черных списков? Это охватывает любые сигнатур, которые не помечены как часть какой-либо из других более конкретных категорий сигнатур.

«block_proxies»
- Блокировать CIDRs идентифицированы как принадлежащие к прокси-серверов? Если Вам требуется, чтобы пользователи смогли получить доступ к вашему веб-сайт от анонимных прокси-серверов, эта директива должна быть false. В противном случае, если Вам не нужны анонимных прокси-серверов, эта директива должна быть true как средство повышения безопасности.

«block_spam»
- Блокировать CIDRs которые были определены как высокого риска для спама? Если Вы не испытываете проблем при этом, как правило, эта директива должна быть true.

«modules»
- Список модуль файлы для загрузки после обработки сигнатуры IPv4/IPv6, разделенных запятыми.

«default_tracktime»
- Сколько секунд чтобы отслеживать IP-адреса, запрещенные модулями. Стандарт = 604800 (1 неделя).

«infraction_limit»
- Максимальное число нарушений IP-разрешено брать на себя, прежде чем она запрещена отслеживание IP. Стандарт = 10.

«track_mode»
- Когда следует учитывать нарушения? False = Когда IP-адреса блокируются из модулями. True = Когда IP-адреса блокируются по какой-либо причине.

#### «recaptcha» (Категория)
Если Вы хотите, Вы можете предоставить пользователям способ обхода страницы «Доступ Закрыт» путем завершения инстанция reCAPTCHA. Это может помочь смягчить некоторые из рисков связанных с ложных-срабатываний в тех ситуациях когда мы не совсем уверены был ли запрос возник из машины или человека.

Из-за рисков связанные с обеспечением способ для конечных пользователей чтобы пропустить страницу «Доступ Закрыт», в общем, я бы посоветовал против включения этой функции если Вы чувствуете что это будет необходимо сделать так. Ситуации где это было бы необходимо: Если ваш сайт имеет клиентов/пользователям которые должны иметь доступ к вашему веб-сайт, и если это что-то что не может быть договорная, но если те клиентов/пользователям, случается, подключение от враждебной сети которые потенциально могли бы быть также проведение нежелательного трафика, и блокирование этого нежелательного трафика также не может быть договорная, в этих конкретных не-выигрышных ситуаций, функция reCAPTCHA может пригодиться как средство позволяет желаемых клиентов/пользователям, в то же время позволяет отказ от нежелательного трафика из той же самой сети. Тем не менее, учитывая что целевое назначение для CAPTCHA является различать людей и нелюдей, функция reCAPTCHA будет оказывать помощь только в этих не-выигрышных ситуаций если мы предположить что этот нежелательного трафика должен быть нелюдей (например, спамботы, скребки, хакерских утилит, автоматический трафик), в противоположность нежелательного трафика что должен быть людей (таких как человеческие спамеров, хакеры, и другие).

Чтобы получить «site key» и «secret key» (требуется для использования reCAPTCHA), перейдите по ссылкам: [https://developers.google.com/recaptcha/](https://developers.google.com/recaptcha/)

«usemode»
- Определяет как CIDRAM должны использовать reCAPTCHA.
- 0 = reCAPTCHA полностью отключена (стандарт).
- 1 = reCAPTCHA позволила для всех сигнатуры.
- 2 = reCAPTCHA позволила только для сигнатуры которые принадлежат к разделам специально обозначенных в reCAPTCHA-позволила в файлов сигнатур.
- (Любое другое значение будет обрабатываться таким же образом как 0).

«lockip»
- Определяет ли хэши должны быть привязаны к конкретным IP-адресов. False = Куки и хэши МОЖЕТ использоваться в нескольких IP-адресов (стандарт). True = Куки и хэши НЕ может использоваться в нескольких IP-адресов (куки/хэши привязаны к IP-адресов).
- Заметка: Значение «lockip» игнорируется когда «lockuser» дезактивированный/false, благодаря тому что механизм для запоминания «users» различается в зависимости от этого значения.

«lockuser»
- Определяет ли успешное завершение инстанция reCAPTCHA должны быть привязаны к конкретным пользователям. False = Успешное завершение инстанция reCAPTCHA будет предоставлять доступ ко всем запросам происходящих из того же IP который используемый пользователем что завершение инстанция reCAPTCHA; Куки и хэши не используются; Вместо, IP белый список будет использоваться. True = Успешное завершение инстанция reCAPTCHA будет только предоставлять доступ к пользователю что завершение инстанция reCAPTCHA; Куки и хэши используются чтобы помнить пользователю; IP белый список не используется.

«sitekey»
- Это значение должно соответствовать «site key» для вашего reCAPTCHA, которые можно найти в dashboard (панели управления) reCAPTCHA.

«secret»
- Это значение должно соответствовать «secret key» для вашего reCAPTCHA, которые можно найти в dashboard (панели управления) reCAPTCHA.

«expiry»
- Когда «lockuser» активированный/true (стандарт), для того чтобы вспомнить когда пользователь успешно завершил инстанция reCAPTCHA, для будущие запросы страниц, CIDRAM генерирует стандартный HTTP-куки содержащий хэш что соответствует внутренней записи содержащий тот же хэш; Будущие запросы страниц будут использовать эти соответствующие хэши для проверки что пользователь ранее уже завершил инстанция reCAPTCHA. Когда «lockuser» дезактивированный/false, IP белый список используется для определения ли запросы должны быть разрешены от IP входящих запросов; Записи добавляются в этот белый список когда инстанция reCAPTCHA успешно завершен. Сколько часов должны эти куки, хэши и белый список записей быть действительным? Стандарт = 720 (1 месяц).

«logfile»
- Записывать все попытки reCAPTCHA? Если да, указать имя использовать для файла журнала. Если нет, оставьте эту переменную пустым.

*Полезный совет: Если Вы хотите, Вы можете добавить информацию о дате/времени к именам файлов журналов путем включения их во имя: `{yyyy}` для полный год, `{yy}` для сокращенный год, `{mm}` для месяц, `{dd}` для день, `{hh}` для час.*

*Примеры:*
- *`logfile='recaptcha.{yyyy}-{mm}-{dd}-{hh}.txt'`*

«signature_limit»
- Максимальное количество сигнатурей разрешено срабатывает, когда будет предлагаться инстанция reCAPTCHA. Стандарт = 1. Если это число превышено для любого конкретного запроса, инстанция reCAPTCHA не будет предлагаться.

«api»
- Какой API использовать? V2 или Invisible?

*Примечание для пользователей в Европейском Союзе: Когда CIDRAM сконфигурирован для использования файлов куки (например, когда «lockuser» является true/истинным), предупреждение о печенье отображается на странице в соответствии с требованиями [законодательства ЕС по куки](http://ec.europa.eu/ipg/basics/legal/cookies/index_en.htm). Однако при использовании invisible API, CIDRAM пытается автоматически выполнить reCAPTCHA для пользователя, и в случае успеха, это может привести к перезагрузке страницы и созданию куки без предоставления пользователю достаточного времени для фактического просмотра предупреждения о куки. Если это создает для вас юридический риск, возможно, лучше использовать V2 API вместо invisible API (V2 API не автоматизирован и требует, чтобы пользователь сам выполнял вызов reCAPTCHA, тем самым предоставляя возможность увидеть предупреждение cookie).*

#### «template_data» (Категория)
Директивы/Переменные для шаблоны и темы.

Шаблонный данных относится к HTML-вывода, используемый для генерации «Доступ Закрыт» сообщения отображается для пользователей когда/на загрузки/уплоад файлов блокируются. Если Вы используете персонализированные темы для CIDRAM, HTML-выход получены из `template_custom.html` файл, а в противном случае, HTML-выход получены из `template.html` файл. Переменные, записанные в этом разделе файл конфигурации обрабатываются на HTML-выход в виде заменой любой имена переменных в окружении фигурных скобках найденный в HTML-вывода с соответствующей переменных данных. Например, где `foo="bar"`, любое вхождение `<p>{foo}</p>` найденный в HTML-вывода станет `<p>bar</p>`.

«theme»
- Стандартная тема для CIDRAM.

«Magnification»
- Увеличение шрифта. Стандарт = 1.

«css_url»
- Шаблонный файл для персонализированные темы использует внешние CSS свойства и шаблонный файл для стандарт тема использует внутренние CSS свойства. Поручить CIDRAM использовать персонализированные темы шаблонный файл, указать адрес публичного HTTP в CSS файлов вашей темы используя `css_url` переменная. Если оставить это переменная пустым, CIDRAM будет использовать шаблонный файл для стандарт тема.

---


### 7. <a name="SECTION7"></a>СИГНАТУР ФОРМАТ

*Смотрите также:*
- *[Что такое «сигнатур»?](#WHAT_IS_A_SIGNATURE)*

#### 7.0 ОСНОВЫ (ДЛЯ ФАЙЛОВ СИГНАТУРЫ)

Описание формата и структуры сигнатуры которые CIDRAM использует можно найти документированный в обычный текст в пользовательских файлов сигнатур. Пожалуйста, обратитесь к этой документации, чтобы узнать больше о формате и структуре относящийся к CIDRAM сигнатуры.

Все сигнатуры IPv4 придерживаться формат: `xxx.xxx.xxx.xxx/yy [Функция] [Параметр]`.
- `xxx.xxx.xxx.xxx` представляет начало блока CIDR (октеты для первым IP-адреса в блока).
- `yy` представляет размер блока CIDR [1-32].
- `[Функция]` инструктирует скрипт что делать с сигнатур (как сигнатур должны быть обработаны).
- `[Параметр]` представляет все что дополнительная информация что может потребоваться для `[Функция]`.

Все сигнатуры IPv6 придерживаться формат: `xxxx:xxxx:xxxx:xxxx::xxxx/yy [Функция] [Параметр]`.
- `xxxx:xxxx:xxxx:xxxx::xxxx` представляет начало блока CIDR (октеты для первым IP-адреса в блока). Полное обозначение и сокращенное обозначение являются приемлемыми (и каждый из них ДОЛЖЕН следовать соответствующим стандартам для обозначение IPv6, но с одним исключением: IPv6-адрес никогда не может начинаться с аббревиатуры когда использовании в сигнатуры для этого скрипт, из-за способа в котором они реконструируются посредством скрипт; Например, `::1/128` должны быть выражены, когда использовании в сигнатур, в виде `0::1/128`, и `::0/128` выражены в виде `0::/128`).
- `yy` представляет размер блока CIDR [1-128].
- `[Функция]` инструктирует скрипт что делать с сигнатур (как сигнатур должны быть обработаны).
- `[Параметр]` представляет все что дополнительная информация что может потребоваться для `[Функция]`.

CIDRAM сигнатурные файлы ДОЛЖЕН использовать разрыВы строк Unix-стиле (`%0A`, или `\n`)! Другие типы/стили разрыва строки (например, Windows `%0D%0A` или `\r\n` разрыВы строк, Mac `%0D` или `\r` разрыВы строк, и т.д.) МОЖЕТ быть использовано, но НЕ являются предпочтительными. РазрыВы строк не-Unix-стиле будут нормализованы к разрыВы строк Unix-стиле посредством скрипт.

Точное и правильное обозначение CIDR необходимо, в противном случае скрипт не будет признает сигнатур. Дополнительно, все сигнатуры CIDR для этого скрипт ДОЛЖНА начинаться с IP-адресом чья номер IP которого можно разделить равномерно в блок разделения представляющий от его размер блока CIDR (например, если Вы хотите чтобы заблокировать все IP-адреса из `10.128.0.0` к `11.127.255.255`, `10.128.0.0/8` НЕ будут признаны посредством скрипт, но `10.128.0.0/9` и `11.0.0.0/9` используется в сочетании, БУДУТ признаны посредством скрипт).

Все что в сигнатуры файлы которые не признается как качестве сигнатур ни как относятся синтаксис посредством скрипт будут ПРОИГНОРИРОВАНЫ, поэтому это означает что Вы можете безопасно поставить любые данные несигнатурного что Вы хочешь в файлов сигнатур без разбивая их и без разбивая скрипт. Комментарии являются приемлемыми в файлов сигнатур, без какого-либо специального форматирования требуется. Shell-стиле хэширования для комментарии является предпочтительным, но не принудительная; Функционально, это не имеет никакого значения для сценария ли или не Вы выбираете использовать хэширование Shell-стиле для комментарии, но использовать хэширование Shell-стиле может помогает IDE и простые текстовые редакторы чтобы правильно выделить различные части файлов сигнатур (и так, Shell-стиле хэширования может помочь в качестве наглядного пособия при редактировании).

В возможные значения для `[Функция]`:
- Run
- Whitelist
- Greylist
- Deny

Если «Run» используется, когда сигнатур срабатывает, скрипт будет пытаться выполнить (используя заявление `require_once`) внешний PHP скрипт, определяется значением `[Параметр]` (рабочий каталог должен быть каталог „/vault/“ из скрипт).

Примеры: `127.0.0.0/8 Run example.php`

Это может быть полезно если Вы хотите чтобы выполнить некоторые специфические PHP код для некоторых конкретных IP-адресов и/или CIDR.

Если «Whitelist» используется, когда сигнатур срабатывает, скрипт будет сброса всех обнаружений (если есть какие-либо обнаружений) и нарушить функцию тестирования. `[Параметр]` будут игнорироваться. Эта функция является эквивалентом белого списка конкретный IP или CIDR от обнаружения.

Примеры: `127.0.0.1/32 Whitelist`

Если «Greylist» используется, когда сигнатур срабатывает, скрипт будет сброса всех обнаружений (если есть какие-либо обнаружений) и перейти к следующему файлу сигнатуры чтобы продолжить обработку. `[Параметр]` будут игнорироваться.

Примеры: `127.0.0.1/32 Greylist`

Если «Deny» используется, когда сигнатур срабатывает, предполагая что не сигнатур из белый список были срабатывать для данного IP-адреса и/или данного CIDR, доступ к защищенной странице будет запрещен. «Deny» то что Вы хотите использовать на самом деле блокировать IP-адрес и/или диапазон CIDR. Когда какие-либо сигнатуры срабатывает которые используют «Deny», страница «Доступ Закрыт» из скрипт будет генерироваться и запрос на защищенной странице убит.

Значение `[Параметр]` принимаются с «Deny» будут обрабатываться на страницы для «Доступ Закрыт», поставляется клиенту/пользователю как цитируется причиной их доступа к запрашиваемой странице закрытия. Это может быть коротким и простым предложением, объясняя почему Вы выбрали чтобы блокировать их (что-нибудь должно хватить, даже простой „Я не хочу чтобы Ты на моем сайте“), или один из небольшой кучки сокращённых слов поставляемые из сценария, что если используется, будет заменен скриптом с предварительно подготовленной объяснения для почему клиент/пользователь был заблокирован.

Предварительно подготовленные объяснения имеют поддержку L10N и может быть переведен с помощью скриптом основанный на языке который Вы укажете в директиве `lang` для конфигурации скрипт. Дополнительно, Вы можете поручить скрипт игнорировать сигнатуры с «Deny» на основе их значение `[Параметр]` (если они используют эти сокращенные слова) с помощью директив определяется конфигурацией скриптом (каждая сокращенная слово имеет соответствующую директиву чтобы обрабатывать соответствующие сигнатуриь или игнорировать их). Значение `[Параметр]` которые не используют эти сокращенные слова, однако, не имеют поддержку L10N и поэтому не будет переведен с помощью скриптом, и дополнительно, непосредственно не контролируется с конфигурацией скрипт.

Доступные сокращенные слова:
- Bogon
- Cloud
- Generic
- Proxy
- Spam

#### 7.1 ТЕГИ

##### 7.1.0 ТЕГИ СЕКЦИЙ

Если Вы хотите разделить ваши собственные сигнатуры на отдельные секции, Вы можете идентифицировать эти отдельные секции к скрипт путем добавления «теги секций» сразу же после того как сигнатуры каждого секция, наряду с названием вашей сигнатур секция (смотрите пример ниже).

```
# Секция 1.
1.2.3.4/32 Deny Bogon
2.3.4.5/32 Deny Cloud
4.5.6.7/32 Deny Generic
5.6.7.8/32 Deny Spam
6.7.8.9/32 Deny Proxy
Tag: Секция 1
```

Чтобы разорвать теги секций и для обеспечения что теги не идентифицированы неправильно для сигнатур секции от ранее в файлов сигнатур, просто убедитесь что есть по крайней мере два последовательных разрывы строк между тегом и ваших предыдущих сигнатур секции. Любые сигнатуры без тегов будут «IPv4» или «IPv6» в стандарта (в зависимости от того, какие типы сигнатур срабатывает).

```
1.2.3.4/32 Deny Bogon
2.3.4.5/32 Deny Cloud

4.5.6.7/32 Deny Generic
5.6.7.8/32 Deny Spam
Tag: Секция 1
```

В приведенном выше примере, `1.2.3.4/32` и `2.3.4.5/32` будут помечены как «IPv4», в то время как `4.5.6.7/32` и `5.6.7.8/32` будут помечены как «Секция 1».

Та же логика может применяться и для разделения других типов тегов.

В частности, теги секций могут быть очень полезны для отладки при возникновении ложных срабатываний, обеспечивая легкое средство поиска точного источника проблемы, и может быть очень полезна для фильтрации записей в файле журнала при просмотре файлов журнала через фронтенд (имена секций можно щелкнуть по странице журналов фронтенд и их можно использовать в качестве критерия фильтрации). Если теги секций опущены для некоторых определенных сигнатурей, когда эти сигнатуры запускаются, CIDRAM использует имя файла сигнатуры вместе с типом заблокированного IP-адреса (IPv4 или IPv6) в качестве отказоустойчивый, и таким образом, теги секций полностью необязательны. В некоторых случаях они могут быть рекомендованы, например, когда файлы сигнатуры смутно названы или когда в противном случае может быть трудно четко идентифицировать источник сигнатурей, в результате чего запрос блокируется.

##### 7.1.1 ТЕГИ ИСТЕЧЕНИЯ

Если Вы хотите сигнатуры чтобы истекают через какое-то время, аналогичным способом к теги секций, Вы можете использовать «истечение теги» чтобы указать когда сигнатур должна перестать быть действительным. Истечение теги используют формат «ГГГГ.ММ.ДД» (смотрите пример ниже).

```
# Секция 1.
1.2.3.4/32 Deny Generic
2.3.4.5/32 Deny Generic
Expires: 2016.12.31
```

Истекшие сигнатуры никогда не будут инициироваться ни при каких запросах, несмотря ни на что.

##### 7.1.2 ТЕГИ ПРОИСХОЖДЕНИЯ

Если Вы хотите указать страну происхождения для какой-либо определенной сигнатуры, вы можете сделать это, используя «тег происхождения». Тег происхождения принимает код «[ISO 3166-1 Alpha-2](https://ru.wikipedia.org/wiki/ISO_3166-1_alpha-2)», соответствующий стране происхождения для сигнатурей, к которым он относится. Эти коды должны быть написаны в верхнем регистре (в нижнем или смешанном случае не будут отображаться правильно). Когда используется тег происхождения, он добавляется в запись поля «Почему Заблокированные» для любых запросов, заблокированных в результате сигнатурей, к которым применяется тег.

Если установлен дополнительный компонент «flags CSS», при просмотре лог-файлов через страницу журналов фронтенд, информация, добавленная тегами происхождения, заменяется флагом страны, соответствующей этой информации. Эта информация, будь то в ее необработанном виде или в качестве флага страны, доступна для кликов, а при нажатии, будет фильтровать записи в журнале посредством других аналогичных идентификационных записей журнала (эффективно позволяя тем, кто обращается к странице журналов, фильтровать по стране происхождения).

Примечание: Технически это не какая-либо форма геолокации, из-за чего она не предполагает поиска какой-либо конкретной информации, относящейся к входящим IP-адресам, а скорее просто позволяет нам явно указать страну происхождения для любых запросов, заблокированных конкретными сигнатурами. В одном секция сигнатуры допустимы несколько тегов происхождения.

Гипотетический пример:

```
1.2.3.4/32 Deny Generic
Origin: CN
2.3.4.5/32 Deny Generic
Origin: FR
4.5.6.7/32 Deny Generic
Origin: DE
6.7.8.9/32 Deny Generic
Origin: US
Tag: Foobar
```

Любые теги могут использоваться совместно, и все теги являются необязательными (смотрите пример ниже).

```
# Пример Секция.
1.2.3.4/32 Deny Generic
Origin: US
Tag: Пример Секция
Expires: 2016.12.31
```

#### 7.2 YAML

##### 7.2.0 ОСНОВЫ YAML

Упрощенная форма маркап YAML может быть использован в сигнатур файлы для целей определения поведения и установок специфичные для отдельных сигнатур секций. Это может быть полезно если Вы хотите чтобы значение ваших директив конфигурации отличаться на основе индивидуальных сигнатур и сигнатур секций (например; если Вы хотите чтобы предоставить адрес электронной почты для поддержки билетов для любых пользователей что заблокированных с помощью один специфична сигнатур, но не хотите чтобы предоставить адрес электронной почты для поддержки билетов для пользователей что заблокированных с помощью любых других сигнатур; если Вы хотите чтобы некоторые специфический сигнатур чтобы вызвать страницу перенаправления; если Вы хотите чтобы отметить секция сигнатур для использования с reCAPTCHA; если Вы хотите чтобы войти блокировал попытки доступа к отдельным файлам на основе индивидуальных подписей и/или сигнатур секций).

Применение маркап YAML в файлов сигнатур совершенно не обязательно (то есть, Вы можете использовать его, если Вы хотите сделать это, но Вы не обязаны делать это), и способен использовать большинство (но не все) директивы конфигурации.

Заметка: Имплементация в CIDRAM для маркап YAML очень упрощенно и очень ограничено; Это предназначен для выполнения требований конкретных для CIDRAM таким образом что имеет знакомство с маркап YAML, но не следует ни соответствует официальным спецификациям (и поэтому не будет вести себя так же как более тщательный имплементации в другом месте, и может не подходить для других проектов в другом месте).

В CIDRAM, сегменты маркап YAML определены для скрипт с тремя черточками („---“), и заканчиваются вместе со содержащими сигнатур секций с разрывы строк двойной. Типичный сегмент маркап YAML в сигнатуры секция состоит из трех черточек на строка сразу же после того как список CIDR и любые теги, с последующим двухмерной списка пары ключ-значение (первое измерение, категории директива конфигурации; второе измерение, директива конфигурации) для которых директивы конфигурации должны быть изменены (и какие ценности) всякий раз когда сигнатуры в этом сигнатур секция срабатывании (см ниже примеры).

```
# Foobar 1.
1.2.3.4/32 Deny Generic
2.3.4.5/32 Deny Generic
4.5.6.7/32 Deny Generic
Tag: Foobar 1
---
general:
 logfile: logfile.{yyyy}-{mm}-{dd}.txt
 logfileApache: access.{yyyy}-{mm}-{dd}.txt
 logfileSerialized: serial.{yyyy}-{mm}-{dd}.txt
 forbid_on_block: false
 emailaddr: username@domain.tld
recaptcha:
 lockip: false
 lockuser: true
 expiry: 720
 logfile: recaptcha.{yyyy}-{mm}-{dd}.txt
 enabled: true
template_data:
 css_url: http://domain.tld/cidram.css

# Foobar 2.
1.2.3.4/32 Deny Generic
2.3.4.5/32 Deny Generic
4.5.6.7/32 Deny Generic
Tag: Foobar 2
---
general:
 logfile: "logfile.Foobar2.{yyyy}-{mm}-{dd}.txt"
 logfileApache: "access.Foobar2.{yyyy}-{mm}-{dd}.txt"
 logfileSerialized: "serial.Foobar2.{yyyy}-{mm}-{dd}.txt"
 forbid_on_block: 503

# Foobar 3.
1.2.3.4/32 Deny Generic
2.3.4.5/32 Deny Generic
4.5.6.7/32 Deny Generic
Tag: Foobar 3
---
general:
 forbid_on_block: 403
 silent_mode: "http://127.0.0.1/"
```

##### 7.2.1 КАК «СПЕЦИАЛЬНО ОТМЕТИТЬ» СИГНАТУР СЕКЦИЙ ДЛЯ ИСПОЛЬЗОВАНИЯ С reCAPTCHA

Когда «usemode» является 0 или 1, сигнатур секций не должны быть специально отметил для использования с reCAPTCHA (потому что они уже будет или не будет использовать reCAPTCHA, на основе этого параметра).

Когда «usemode» является 2, чтобы «специально отметить» сигнатур секций для использования с reCAPTCHA, запись включается в сегменте YAML для этого секция сигнатуры (смотрите пример ниже).

```
# Эта секция будет использовать reCAPTCHA.
1.2.3.4/32 Deny Generic
2.3.4.5/32 Deny Generic
Tag: reCAPTCHA-Enabled
---
recaptcha:
 enabled: true
```

*Заметка: По умолчанию, reCAPTCHA будет предлагаться пользователю только если reCAPTCHA активированный (с „usemode“ как 1, или „usemode“ как 2 с „enabled“ как true), и если точно ОДНА сигнатур срабатывает (не больше, не меньше; если несколько подписей срабатывает, reCAPTCHA НЕ будет предлагаться). Однако, это поведение может быть изменено с помощью директивы «signature_limit».*

#### 7.3 ВСПОМОГАТЕЛЬНЫЙ

К тому же, если Вы хотите CIDRAM полностью игнорировать некоторые конкретные секций в любой из сигнатур файлы, Вы можете использовать файл `ignore.dat` чтобы указать какие секций игнорировать. На новой строка, писать `Ignore`, а затем пробел, а затем название секций что Вы хотите CIDRAM игнорировать (смотрите пример ниже).

```
Ignore Секция 1
```

#### 7.4 <a name="MODULE_BASICS"></a>ОСНОВЫ (ДЛЯ МОДУЛИ)

Модули могут использоваться для расширения функциональности CIDRAM, выполнения дополнительных задач, или обработки дополнительной логики. Как правило, они используются, когда необходимо блокировать запрос на основе, отличной от исходного IP-адреса (таким образом, когда сигнатуры CIDR недостаточно, чтобы заблокировать запрос). Модули написаны как файлы PHP, и, как правило, сигнатуры модулей записываются как PHP-код.

Некоторые хорошие примеры модулей CIDRAM можно найти здесь:
- https://github.com/CIDRAM/CIDRAM-Extras/tree/master/modules

Шаблон для написания новых модулей можно найти здесь:
- https://github.com/CIDRAM/CIDRAM-Extras/blob/master/modules/module_template.php

Из-за того что модули написаны в виде файлов PHP, если Вы хорошо знакомы с кодовой базой CIDRAM, Вы можете структурировать свои модули, и писать свои сигнатуры модуля, как Вы хотите (в рамках того, что возможно с PHP). Однако для вашего удобства и для лучшей взаимной разборчивости между существующими модулями и вашим собственным, рекомендуется проанализировать приведенный выше шаблон, чтобы иметь возможность использовать структуру и формат, которые он предоставляет.

*Заметка: Если вам неудобно работать с кодом PHP, писать собственные модули не рекомендуется.*

Некоторые функции предоставляются CIDRAM для использования модулей, что упрощает создание собственных модулей. Информация об этой функциональности описана ниже.

#### 7.5 ФУНКЦИОНАЛЬНОСТЬ МОДУЛЯ

##### 7.5.0 «$Trigger»

Сигнатуры модулей обычно пишутся с помощью «$Trigger». В большинстве случаев это closure будет более важным, чем что-либо еще для написания модулей.

«$Trigger» принимает 4 параметра: «$Condition», «$ReasonShort», «$ReasonLong» (необязательно), и «$DefineOptions» (необязательно).

Оценивается правдоподобность «$Condition», и если «true», сигнатур «срабатывает». Если «false», сигнатур *не* «срабатывает». «$Condition» обычно содержит PHP-код для оценки состояния, которое должно вызвать блокировку запроса.

«$ReasonShort» указывается в поле «Почему Заблокированные», когда сигнатур «срабатывает».

«$ReasonLong» – Это необязательное сообщение, которое будет отображаться пользователю/клиенту, когда они заблокированы, чтобы объяснить, почему они были заблокированы. По умолчанию используется стандартное сообщение «Доступ Закрыт» при его отсутствии.

«$DefineOptions» – Это необязательный массив, содержащий пары ключ/значение, используемые для определения параметров конфигурации, специфичных для инстанция запроса. Параметры конфигурации будут применены, когда сигнатур будет срабатывает.

«$Trigger» возвращает «true», когда сигнатур «срабатывает», а когда нет, «false».

Чтобы использовать это closure в своем модуле, помните, во-первых, чтобы наследовать его из родительской области:
```PHP
$Trigger = $CIDRAM['Trigger'];
```

##### 7.5.1 «$Bypass»

Байпасы сигнатуры обычно пишутся с помощью «$Bypass».

«$Bypass» принимает 3 параметра: «$Condition», «$ReasonShort», и «$DefineOptions» (необязательно).

Оценивается правдоподобность «$Condition», и если «true», сигнатур «срабатывает». Если «false», байпас *не* «срабатывает». «$Condition» обычно содержит PHP-код для оценки состояния, которое *не* должно вызвать блокировку запроса.

«$ReasonShort» указывается в поле «Почему Заблокированные», когда байпас «срабатывает».

«$DefineOptions» – Это необязательный массив, содержащий пары ключ/значение, используемые для определения параметров конфигурации, специфичных для инстанция запроса. Параметры конфигурации будут применены, когда байпас будет срабатывает.

«$Bypass» возвращает «true», когда байпас «срабатывает», а когда нет, «false».

Чтобы использовать это closure в своем модуле, помните, во-первых, чтобы наследовать его из родительской области:
```PHP
$Bypass = $CIDRAM['Bypass'];
```

##### 7.5.2 «$CIDRAM['DNS-Reverse']»

Это можно использовать для получения имени хоста IP-адреса. Если Вы хотите создать модуль для блокирования имен хостов, это закрытие может быть полезно.

Пример:
```PHP
<?php
/** Inherit trigger closure (see functions.php). */
$Trigger = $CIDRAM['Trigger'];

/** Fetch hostname. */
if (empty($CIDRAM['Hostname'])) {
    $CIDRAM['Hostname'] = $CIDRAM['DNS-Reverse']($CIDRAM['BlockInfo']['IPAddr']);
}

/** Example signature. */
if ($CIDRAM['Hostname'] && $CIDRAM['Hostname'] !== $CIDRAM['BlockInfo']['IPAddr']) {
    $Trigger($CIDRAM['Hostname'] === 'www.foobar.tld', 'Foobar.tld', 'Hostname Foobar.tld is not allowed.');
}
```

#### 7.6 МОДУЛЬНЫЕ ПЕРЕМЕННЫЕ

Модули выполняются в пределах своей собственной области действия, а любые переменные, определенные модулем, не будут доступны для других модулей, или родительскому скрипту, если они не хранятся в массиве «$CIDRAM» (все остальное очищается после завершения выполнения модуля).

Ниже перечислены некоторые общие переменные, которые могут быть полезны для вашего модуля:

Переменная | Описание
----|----
`$CIDRAM['BlockInfo']['DateTime']` | Текущая дата и время.
`$CIDRAM['BlockInfo']['IPAddr']` | IP-адрес для текущего запроса.
`$CIDRAM['BlockInfo']['ScriptIdent']` | Версия сценария CIDRAM.
`$CIDRAM['BlockInfo']['Query']` | Запрос текущего запроса.
`$CIDRAM['BlockInfo']['Referrer']` | Ссылка для текущего запроса (если таковая существует).
`$CIDRAM['BlockInfo']['UA']` | Пользовательский агент для текущего запроса.
`$CIDRAM['BlockInfo']['UALC']` | Пользовательский агент для текущего запроса (в нижнем регистре).
`$CIDRAM['BlockInfo']['ReasonMessage']` | Сообщение, которое будет отображаться пользователю/клиенту для текущего запроса, если они заблокированы.
`$CIDRAM['BlockInfo']['SignatureCount']` | Количество сигнатурей, инициированных для текущего запроса.
`$CIDRAM['BlockInfo']['Signatures']` | Справочная информация для любых сигнатур, инициированных для текущего запроса.
`$CIDRAM['BlockInfo']['WhyReason']` | Справочная информация для любых сигнатур, инициированных для текущего запроса.

---


### 8. <a name="SECTION8"></a>ИЗВЕСТНЫЕ ПРОБЛЕМЫ СОВМЕСТИМОСТИ

Было обнаружено, что следующие пакеты и продукты несовместимы с CIDRAM:
- __[Endurance Page Cache](https://github.com/CIDRAM/CIDRAM/issues/52)__

---


### 9. <a name="SECTION9"></a>ЧАСТО ЗАДАВАЕМЫЕ ВОПРОСЫ (FAQ)

#### <a name="WHAT_IS_A_SIGNATURE"></a>Что такое «сигнатур»?

В контексте CIDRAM, «сигнатур» относится к данным, которые служат индикатора/идентификатора, для чего-то конкретного что мы ищем, обычно IP-адрес или CIDR, и включает в себя некоторые инструкции для CIDRAM, говоря это лучший способ ответить когда сталкивается с тем что мы ищем. Типичная сигнатур для CIDRAM выглядит примерно так:

Для «файлов сигнатуры»:

`1.2.3.4/32 Deny Generic`

Для «модули»:

```PHP
$Trigger(strpos($CIDRAM['BlockInfo']['UA'], 'Foobar') !== false, 'Foobar-UA', 'User agent "Foobar" not allowed.');
```

*Заметка: Сигнатуры для «файлов сигнатуры» и сигнатуры для «модули» – Это не одно и то же.*

Часто (но не всегда), сигнатуры будут объединены в группы, Формирование «сигнатур секций», часто сопровождается комментариями, маркуп, и/или связанные метаданные, которые могут быть использованы для обеспечения дополнительного контекста для сигнатуры и/или дальнейшей инструкции.

#### <a name="WHAT_IS_A_CIDR"></a>Что такое «CIDR»?

«CIDR» является акронимом для «Classless Inter-Domain Routing» („Бесклассовая адресация“) *[[1](https://ru.wikipedia.org/wiki/%D0%91%D0%B5%D1%81%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%B0%D1%8F_%D0%B0%D0%B4%D1%80%D0%B5%D1%81%D0%B0%D1%86%D0%B8%D1%8F), [2](http://whatismyipaddress.com/cidr)]*, и это акроним, который используется как часть имени этого пакета, «CIDRAM», который является акронимом для «Classless Inter-Domain Routing Access Manager» („Бесклассовая Адресация Доступа Менеджер“).

Однако, в контексте CIDRAM (таких как, в этой документации, в рамках обсуждений касающихся CIDRAM, или в данных языка CIDRAM), когда «CIDR» (единственное число) или «CIDRs» (множественное число) упоминается (и поэтому, посредством чего мы используем эти слова как существительные в своем собственном праве, в отличие от акронимов), наш смысл и намерение: Подсеть (или подсетей), выраженные с использованием нотации CIDR. Причина по которой CIDR (или CIDRs) используется вместо подсети (или подсетей): Чтобы уточнить, что это специально подсети, выраженные с использованием нотации CIDR, которая ссылается на (потому нотации CIDR только один из нескольких способов, которыми подсети могут быть выражены). Поэтому CIDRAM можно считать «подсети доступа менеджер».

Хотя это двойное значение «CIDR» может представлять некоторую двусмысленность в некоторых случаях, это объяснение, наряду с предоставленным контекстом, должен помочь решить такую двусмысленность.

#### <a name="WHAT_IS_A_FALSE_POSITIVE"></a>Что такое «ложноположительный»?

Термин «ложноположительный» (*альтернативно: «ложноположительными ошибка»; «ложная сигнализация»*; Английский: *false positive*; *false positive error*; *false alarm*), описал очень просто, и в обобщенном контексте, используется при проверке условия, для ссылаясь на результаты этого теста, когда результаты будут положительный (то есть, условия определяется будут «положительный», или «истинно»), но как ожидается будет (или должно было) отрицательный (то есть, условие, в действительности, является «отрицательный», или «ложно»). Термин «ложноположительный» можно было бы считать аналогом «плачет волк» (английский идиома в которой условие проверяется является ли там волк возле стада, условие является «ложно» в том, что нет никакого волка возле стада, и условие сообщается «положительный» посредством пастух путем кричать «волк, волк»), или аналогично ситуации в медицинском тестировании в которой пациент диагностирован как какую-то болезнь, когда в действительности, у них нет болезни.

Связанные результаты при проверке условия можно описать с использование терминов «истинноположительный», «истинноотрицательный» и «ложноотрицательный». «Истинноположительный» описывает когда результаты испытаний и фактическое состояние условия оба являются истинными (или положительные), и «истинноотрицательный» описывает когда результаты испытаний и фактическое состояние условия оба являются ложными (или отрицательные); «Истинноположительный» или «истинноотрицательный» рассматриваются как «правильный вывод». Противоположностью «ложноположительный» является «ложноотрицательный»; «Ложноотрицательный» описывает когда результаты испытаний отрицательные (то есть, условие определяется как отрицательные, или ложными), но как ожидается будет (или должно было) положительные (то есть, условие, в действительности, является «положительный», или «истинно»).

В контексте CIDRAM, эти термины относятся к сигнатур CIDRAM и что/кого они блокируют. Когда CIDRAM блокирует IP-адрес из-за плохой, устаревшей или неправильной сигнатур, но не должно быть сделано, или когда он делает это по неправильным причинам, мы называем это событие как «ложноположительный». Когда CIDRAM не удается блокировать IP-адрес, который должен был быть заблокированы, из-за непредвиденных угроз, недостающие сигнатур или недостатки в своих подписей, мы называем это событие как «обнаружение не удалось» (аналогична «ложноотрицательный»).

Это может быть суммированы в таблице ниже:

&nbsp; | CIDRAM *НЕ* должны блокировать IP-адрес | CIDRAM *ДОЛЖНЫ* блокировать IP-адрес
---|---|---
CIDRAM *НЕ* блокирует IP-адрес | Истинноотрицательный (правильный вывод) | Обнаружение не удалось (аналогична ложноотрицательный)
CIDRAM *ДЕЛАЕТ* блокирует IP-адрес | __Ложноположительный__ | Истинноположительный (правильный вывод)

#### Может CIDRAM блокировать целые страны?

Да. Самый простой способ добиться этого было бы установить некоторые из опционную страну списки блоков обеспечивается от Macmathan. Это можно сделать с помощью нескольких простых кликов непосредственно со фронтенд обновления страница, или, если Вы предпочитаете чтобы фронтенд оставался деактивированными, загружая их непосредственно со **[страницы загрузки для относящуюся к опционную страну списки блоков](https://macmathan.info/blocklists)**, загрузка их в vault, и цитируя их имена в соответствующих директивах конфигурации.

#### Как часто обновляются сигнатуры?

Частота обновления зависит от файлов сигнатур. Предпринята попытка обновить файлов сигнатур в максимально возможной степени, но, потому всех нас есть различные другие обязательства, наша жизнь вне проекта, и мы не получаем материальной компенсации (т.е., оплата) за наши усилия по проекту, точный график обновления не может быть гарантирован. В общем, обновления происходят, когда есть время, и мы стараемся расставить приоритеты на основе необходимости и частота изменения между диапазонами. Помощь всегда приветствуется, если Вы готовы предложить любую.

#### Я столкнулся с проблемой при использовании CIDRAM, и я не знаю, что с этим делать! Пожалуйста помоги!

- Используете ли Вы последнюю версию программного обеспечения? Используете ли Вы последние версии ваших файлов сигнатуры? Если ответ на любой из этих двух вопросов отрицательный, попробуйте сначала обновить все, и попытайтесь решить проблема. Если оно сохраняется, продолжайте чтение.
- Вы проверили всю документацию? Если нет, сделайте это. Если проблема не может быть решена с помощью документации, продолжите чтение.
- Вы проверили **[странице вопросов](https://github.com/CIDRAM/CIDRAM/issues)**, чтобы узнать упоминалась ли эта проблема ранее? Если это было уже упоминалось, проверить были ли предоставлены какие-либо предложения, идеи и/или решения, и следуйте по необходимости чтобы попытаться решить проблема.
- Если проблема не решена, сообщите нам об этом, путем начала нового дискуссия на странице вопросов.

#### Я заблокирован CIDRAM с веб-сайта, который я хочу посетить! Пожалуйста помоги!

CIDRAM предоставляет владельцам веб-сайтов возможность блокировать нежелательный трафик, но владельцы веб-сайтов обязаны сами решать, как они хотят использовать CIDRAM. В случае ложноположительный, файлами сигнатуры обычно включается в CIDRAM, поправки могут быть сделаны, но в отношении того чтобы быть разблокированным с определенных веб-сайтов, Вам необходимо связаться с владельцами этих веб-сайтов. В случаях когда исправления сделаны, по крайней мере, они должны будут обновить свои файлов сигнатур и/или инсталляция, и в других случаях (таких как, например, когда они есть модифицировал свою инсталляция, создали свои собственные сигнатуры, и т.д.), ответственность за решение вашей проблемы полностью принадлежит им, и полностью вне нашего контроля.

#### Я хочу использовать CIDRAM с версией PHP ниже 5.4.0; Вы можете помочь?

Нет. PHP 5.4.0 достиг официального EoL („End of Life“, или конец жизни) в 2014 году, и расширенная поддержка безопасности была прекращена в 2015 году. На момент написания этой это 2017 году, а PHP 7.1.0 уже доступен. В настоящее время использование CIDRAM с PHP 5.4.0 и всеми доступными новыми версиями PHP поддерживается, но если Вы попытаетесь использовать CIDRAM с любыми более старыми версиями PHP, поддержка не будет предоставлена.

*Смотрите также: [Графики Совместимости](https://maikuolan.github.io/Compatibility-Charts/).*

#### Могу ли я использовать одну установку CIDRAM для защиты нескольких доменов?

Да. CIDRAM инсталляций не привязаны к определенным домены, и поэтому может использоваться для защиты нескольких доменов. В общем, мы ссылаемся на CIDRAM инсталляций, защищающие только один домен, как «однодоменные инсталляций», и мы ссылаемся на CIDRAM инсталляций, защищающие несколько доменов и/или поддоменов, как «многодоменные инсталляций». Если Вы используете многодоменную инсталляция, и необходимо использовать разные файлы сигнатур для разных доменов, или необходимо настроить CIDRAM по-разному для разных доменов, это можно сделать. После загрузки файла конфигурации (`config.ini`), CIDRAM проверит наличие «файл переопределения конфигурации» специфичные для запрашиваемого домена или поддомена (`xn----7sbaabjijgdno9cdqkbchu3o.tld.config.ini`), и если он будет найден, любые значений конфигурации, определенные в файл переопределения конфигурации, будет использоваться для экземпляра выполнения вместо значений конфигурации, определенных конфигурационным файлом. Конфигурация переопределяет файлы, идентичные конфигурационному файлу, и на Ваше усмотрение, Может содержать все директивы конфигурации, доступные для CIDRAM, или какой бы небольшой подсекция требуется, при необходимости. Имена для конфигурация переопределяет файлов соответствуют домену для которого они предназначены (так, например, если Вам нужен файл переопределения конфигурации для домена, `http://www.some-domain.tld/`, его файл переопределения конфигурации должен иметь имя `some-domain.tld.config.ini`, и должен быть помещен в `vault`, вместе с файлом конфигурации, `config.ini`). Доменные имена извлекаются из заголовка `HTTP_HOST` запроса; «www» игнорируется.

#### Я не хочу возиться с установкой этого и заставить его работать с моим сайтом; Могу я просто заплатить вам за все это?

Может быть. Это рассматривается в каждом конкретном случае. Расскажите, что вам нужно, что Вы предлагаете, и мы расскажем вам, можем ли мы помочь.

#### Могу ли я нанять вас или любого из разработчиков этого проекта для частной работы?

*См. Выше.*

#### Мне нужны модификации специалиста, настройки и т.д.; Вы можете помочь?

*См. Выше.*

#### Я разработчик, веб-дизайнер, или программист. Могу ли я принять или предложить работу, связанную с этим проектом?

Да. Наша лицензия не запрещает это.

#### Я хочу внести свой вклад в проект; Я могу сделать это?

Да. Вклады в проект очень приветствуются. Для получения дополнительной информации см. «CONTRIBUTING.md».

#### Рекомендуемые значения для «ipaddr».

Значения | Контекст
---|---
`HTTP_INCAP_CLIENT_IP` | Incapsula обратный прокси-сервер.
`HTTP_CF_CONNECTING_IP` | Cloudflare обратный прокси-сервер.
`CF-Connecting-IP` | Cloudflare обратный прокси-сервер (альтернатива; если вышеуказанное не работает).
`HTTP_X_FORWARDED_FOR` | Cloudbric обратный прокси-сервер.
`X-Forwarded-For` | [Squid обратный прокси-сервер](http://www.squid-cache.org/Doc/config/forwarded_for/).
*Определяется конфигурацией сервера.* | [Nginx обратный прокси-сервер](https://www.nginx.com/resources/admin-guide/reverse-proxy/).
`REMOTE_ADDR` | Не обратный прокси-сервер (стандартное значение).

#### Могу ли я использовать cron для автоматического обновления?

Да. API встроен в фронтенд для взаимодействия со обновления страница через внешние скрипты. Имеется отдельный скрипт: «[Cronable](https://github.com/Maikuolan/Cronable)». Он может использоваться вашим cron manager или cron scheduler для автоматического обновления этого и других поддерживаемых пакетов (этот скрипт предоставляет собственную документацию).

#### Что такое «нарушения»?

«Нарушения» определяют, когда IP-адрес, который еще не заблокирован никакими конкретными сигнатурными файлами, должен блокироваться для любых будущих запросов, и они тесно связаны с отслеживания IP. Существуют некоторые функциональные возможности и модули, которые позволяют блокировать запросы по причинам, отличным от IP-адреса источника (такие как наличие пользовательских агентов [user agents], соответствующих спам-ботам или инструментами взлома, опасные запросы, поддельный DNS и т.д.), и когда это произойдет, может произойти «нарушение». Они предоставляют возможность идентифицировать IP-адреса, которые соответствуют нежелательным запросам, которые еще не могут быть заблокированы с помощью каких-либо конкретных файлов сигнатур. Нарушения обычно соответствуют 1-к-1 с количеством блокировок IP, но не всегда (серьезные события блока могут иметь значение нарушения, превышающее одно, и если «track_mode» false, нарушения не будут происходить для событий блоков, инициированных исключительно сигнатурными файлами).

#### Может ли CIDRAM блокировать имена хостов?

Да. Для этого вам нужно создать файл пользовательского модуля. *Видеть: [ОСНОВЫ (ДЛЯ МОДУЛИ)](#MODULE_BASICS)*.

---


Последнее обновление: 25 Февраль 2018 (2018.02.25).
